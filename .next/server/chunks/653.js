exports.id=653,exports.ids=[653],exports.modules={13307:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},16652:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\sillytavern\\st-manager\\src\\components\\layout\\sidebar.tsx","Sidebar")},19005:(a,b,c)=>{"use strict";c.d(b,{TooltipProvider:()=>e});var d=c(97954);(0,d.registerClientReference)(function(){throw Error("Attempted to call Tooltip() from the server but Tooltip is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\sillytavern\\st-manager\\src\\components\\ui\\tooltip.tsx","Tooltip"),(0,d.registerClientReference)(function(){throw Error("Attempted to call TooltipTrigger() from the server but TooltipTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\sillytavern\\st-manager\\src\\components\\ui\\tooltip.tsx","TooltipTrigger"),(0,d.registerClientReference)(function(){throw Error("Attempted to call TooltipContent() from the server but TooltipContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\sillytavern\\st-manager\\src\\components\\ui\\tooltip.tsx","TooltipContent");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call TooltipProvider() from the server but TooltipProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\sillytavern\\st-manager\\src\\components\\ui\\tooltip.tsx","TooltipProvider")},27467:(a,b,c)=>{"use strict";c.d(b,{TooltipProvider:()=>h,ZI:()=>k,k$:()=>j,m_:()=>i});var d=c(21124),e=c(38301),f=c(70121),g=c(44943);let h=f.Kq,i=f.bL,j=f.l9,k=e.forwardRef(({className:a,sideOffset:b=4,...c},e)=>(0,d.jsx)(f.UC,{ref:e,sideOffset:b,className:(0,g.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c}));k.displayName=f.UC.displayName},27867:(a,b,c)=>{Promise.resolve().then(c.bind(c,42830)),Promise.resolve().then(c.bind(c,79546)),Promise.resolve().then(c.bind(c,68734)),Promise.resolve().then(c.bind(c,27467))},33340:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\sillytavern\\st-manager\\src\\components\\theme-provider.tsx","ThemeProvider")},35284:(a,b,c)=>{"use strict";c.d(b,{$:()=>j,r:()=>i});var d=c(21124),e=c(38301),f=c(96425),g=c(26691),h=c(44943);let i=(0,g.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},44943:(a,b,c)=>{"use strict";c.d(b,{Yq:()=>h,cn:()=>f,v7:()=>g});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}function g(a){if(0===a)return"0 B";let b=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,b)).toFixed(1))+" "+["B","KB","MB","GB"][b]}function h(a){try{let b=new Date(a);if(isNaN(b.getTime())){let b=a.match(/(\d{4}-\d{2}-\d{2})@(\d{2})h(\d{2})m(\d{2})s/);if(b)return`${b[1]} ${b[2]}:${b[3]}:${b[4]}`;return a}return b.toLocaleString("zh-CN")}catch{return a}}},47651:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>l,metadata:()=>k});var d=c(75338),e=c(18039),f=c.n(e);c(61135);var g=c(33340),h=c(16652),i=c(19005),j=c(16076);let k={title:"ST Manager - SillyTavern 内容管理器",description:"管理你的 SillyTavern 角色、世界书、聊天记录和用户角色"};function l({children:a}){return(0,d.jsx)("html",{lang:"zh-CN",suppressHydrationWarning:!0,children:(0,d.jsx)("body",{className:f().className,children:(0,d.jsx)(g.ThemeProvider,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:(0,d.jsxs)(i.TooltipProvider,{children:[(0,d.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,d.jsx)(h.Sidebar,{}),(0,d.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,d.jsx)("div",{className:"container mx-auto p-6 max-w-7xl",children:a})})]}),(0,d.jsx)(j.Toaster,{richColors:!0,position:"top-right"})]})})})})}},61135:()=>{},62186:(a,b,c)=>{"use strict";c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(21124),e=c(38301),f=c(44943);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},62211:(a,b,c)=>{Promise.resolve().then(c.bind(c,16076)),Promise.resolve().then(c.bind(c,16652)),Promise.resolve().then(c.bind(c,33340)),Promise.resolve().then(c.bind(c,19005))},68734:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>f});var d=c(21124);c(38301);var e=c(45523);function f({children:a,...b}){return(0,d.jsx)(e.N,{...b,children:a})}},73986:(a,b,c)=>{"use strict";c.d(b,{Al:()=>g,gf:()=>f,mu:()=>h});var d=c(52300);let e=async a=>{let b=await fetch(a);if(!b.ok)throw Error("API request failed");let c=await b.json();if(!c.success)throw Error(c.error||"Unknown error");return c.data};function f(a,b){return(0,d.Ay)(a,e,{revalidateOnFocus:!0,dedupingInterval:5e3,keepPreviousData:!0,...b})}async function g(a){let b=await fetch(a,{method:"DELETE"}),c=await b.json();if(!c.success)throw Error(c.error||"Delete failed")}async function h(a,b){let c=await fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),d=await c.json();if(!d.success)throw Error(d.error||"Update failed");return d.data}},79546:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>w});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(42378),i=c(45523),j=c(44943),k=c(35284),l=c(77850),m=c(65893),n=c(80196),o=c(44688),p=c(62781),q=c(94684),r=c(23593),s=c(77028),t=c(70175),u=c(60988);let v=[{href:"/",label:"概览",icon:l.A},{href:"/characters",label:"角色",icon:m.A},{href:"/worlds",label:"世界书",icon:n.A},{href:"/chats",label:"聊天记录",icon:o.A},{href:"/personas",label:"用户角色",icon:p.A},{href:"/settings",label:"设置",icon:q.A}];function w(){let a=(0,h.usePathname)(),{theme:b,setTheme:c}=(0,i.D)(),[f,l]=(0,e.useState)(!1);return(0,d.jsxs)("aside",{className:(0,j.cn)("flex flex-col border-r bg-[hsl(var(--sidebar))] text-[hsl(var(--sidebar-foreground))] transition-all duration-300",f?"w-16":"w-60"),children:[(0,d.jsxs)("div",{className:"flex items-center h-14 px-4 border-b border-[hsl(var(--sidebar-border))]",children:[!f&&(0,d.jsx)("h1",{className:"text-lg font-bold tracking-tight truncate",children:"ST Manager"}),(0,d.jsx)(k.$,{variant:"ghost",size:"icon",className:(0,j.cn)("shrink-0",f?"mx-auto":"ml-auto"),onClick:()=>l(!f),children:f?(0,d.jsx)(r.A,{className:"h-4 w-4"}):(0,d.jsx)(s.A,{className:"h-4 w-4"})})]}),(0,d.jsx)("nav",{className:"flex-1 py-4 space-y-1 px-2",children:v.map(b=>{let c="/"===b.href?"/"===a:a.startsWith(b.href);return(0,d.jsx)(g(),{href:b.href,children:(0,d.jsxs)("div",{className:(0,j.cn)("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",c?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent/50 hover:text-foreground",f&&"justify-center px-2"),children:[(0,d.jsx)(b.icon,{className:"h-5 w-5 shrink-0"}),!f&&(0,d.jsx)("span",{children:b.label})]})},b.href)})}),(0,d.jsx)("div",{className:"p-2 border-t border-[hsl(var(--sidebar-border))]",children:(0,d.jsxs)(k.$,{variant:"ghost",size:f?"icon":"default",className:(0,j.cn)("w-full",f?"":"justify-start gap-3"),onClick:()=>c("dark"===b?"light":"dark"),children:[(0,d.jsx)(t.A,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,d.jsx)(u.A,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),!f&&(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"切换主题"})]})})]})}},99187:(a,b,c)=>{"use strict";c.d(b,{E:()=>h});var d=c(21124);c(38301);var e=c(26691),f=c(44943);let g=(0,e.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500/15 text-emerald-700 dark:text-emerald-400",warning:"border-transparent bg-amber-500/15 text-amber-700 dark:text-amber-400"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),...c})}}};